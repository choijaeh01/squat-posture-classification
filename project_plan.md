

1) 전체 로드맵(권장 파이프라인)
	1.	슈퍼바이즈드 베이스라인 확보
	•	18채널 입력(센서 3개 × 각 6채널)을 그대로 받아 간단한 CNN 또는 CNN-GRU/TCN/Transformer로 분류 베이스라인을 만든다.
	•	왜: 이후 SSL이나 복잡한 기법의 **개선폭(Δaccuracy)**를 판단하려면 기준점이 필요함. 회의에서도 비교군(작은 모델)로 먼저 정확도를 확인하자고 했지.  ￼  ￼  ￼
	2.	SSL 프리트레이닝(라벨 없이) → 다운스트림 파인튜닝(소량 라벨)
	•	대원칙: 라벨 없이 시계열의 고유 패턴을 잘 표현하는 임베딩을 먼저 학습(SSL)하고, 그 임베딩 위에 **얕은 헤드(분류기)**를 올려 파인튜닝. 이렇게 하면 적은 라벨로도 빠르게 적응하고 성능이 오른다.  ￼  ￼
	•	데이터 재사용: SSL에 쓴 원시 연속 데이터를 나중에 창 분할해 라벨링하여 파인튜닝에 재사용해도 OK. 프리즈(고정) 또는 비-프리즈(부분 미세조정) 모두 가능.  ￼
	3.	실사용 경량화
	•	저전력 디바이스(라즈베리 파이 등)에서 돌아가게 로우-랭크/지식 증류/프루닝/양자화를 조합하되, 일반적으로 정밀도 저하는 불가피하므로 정확도-속도 트레이드오프를 실험으로 확인.  ￼  ￼

⸻

2) 시계열용 컨트라스티브 SSL 설계(두 가지 트랙)

A. SimCLR-style(이미지 유사) 아이디어를 시계열에 맞춰 변형
	•	핵심 개념: 같은 동작에서 나온 “의미적으로 동일한” 창(window)을 양성 쌍으로, 다른 동작/시점/사람의 창을 음성 쌍으로 두고 InfoNCE류 손실로 임베딩을 학습.
	•	시계열 전용 증강(이미지 증강처럼 뒤집기/회전은 의미가 바뀌므로 주의)
이미지에서 흔한 뒤집기/색변환 등은 시계열에 맞지 않다는 점을 회의에서 짚었지. 대신 아래처럼 의미 보존을 최우선으로:  ￼  ￼
	•	리샘플링(속도 보정/증강): 느린-빠른 실행 차이를 보정하거나 다양화(속도 불변성). 샘플레이트를 낮추거나 stretch로 속도를 약간 다르게 만든 버전을 같은 의미로 묶어줌.  ￼
	•	윈도우 시프트·크롭·마스킹: 시작점을 약간 당기거나 밀고, 일부 구간을 마스킹(drop)해도 같은 동작으로 간주.
	•	가우시안 잡음/미세 진폭 스케일링: 센서 노이즈/개인차 모사.
	•	채널 드롭아웃(센서 드롭): 한 축 또는 한 센서가 일시적으로 소실되는 상황을 학습.
	•	소규모 축 회전(3축 회전행렬): IMU 장착 방향의 작은 오차를 모사.
	•	위상 워핑/약한 시간 왜곡: DTW 계열의 미세 워핑(너무 과하면 의미 붕괴 주의).
	•	양성 쌍 구성 팁
	•	같은 반복(repetition) 내 인접 창을 양성으로, 멀리 떨어진 창 또는 다른 사람의 창은 음성으로.
	•	한 세션에서 속도만 다른 리샘플링 쌍도 양성으로(“속도가 달라도 같은 행위”라는 불변성 학습).  ￼

B. wav2vec 2.0-style(자연어/오디오 계열) 접근
	•	이미지 증강이 어려운 시계열에서 널리 쓰는 대안. 슬라이딩 윈도우로 근접/원거리 관계를 이용해 임베딩을 학습하고, 다운스트림에서 분류·예측으로 전이. 회의에서 이 라인이 명시적으로 추천되었지.  ￼
	•	구현 관점: 사전학습된 wav2vec 계열을 1-D 시그널 프론트엔드로 쓰고, 입력 차원 불일치(6채널↔1채널)를 **임베딩 레이어(선형층)**로 맞춘 뒤 학습하는 옵션.  ￼  ￼

⸻

3) 6채널 공개데이터 ↔ 18채널 자체데이터 매칭 전략
	1.	공유 인코더(Weight Sharing) + 융합
	•	**센서 단위 인코더(같은 구조·가중치 공유)**에 각 6채널 블록을 통과시켜 임베딩을 뽑고, Concat/Stack + Fusion(GRU/Transformer/Attention)으로 합친다. 회의에서 “CNN 필터를 반복적으로 공유”하는 비유가 나왔던 그 방식.  ￼
	2.	차원 정합(Projection) 헤드
	•	18→6 또는 6→18 직접 매핑은 **별도 모델(투영 네트)**로 학습해서 동일 잠재공간에 가깝게 붙이기(contrastive/align loss). 회의에서 “차원 변환을 로스로 포싱”해보자는 제안.  ￼
	3.	1-D 임베딩으로 축약 후 wav2vec로 투입
	•	멀티베리엇 미지원 상황 대비: 6D를 학습형 1-D 임베딩으로 축약 후 1-D SSL로 처리하는 방법. 정보 손실이 크지 않을 수 있다는 논지였고, 오디오 프리트레인 가중치를 재활용하기에도 유리.  ￼

⸻

4) 파인튜닝/학습 운영 전략
	•	라벨 수집: 연속 로그에서 반복 단위 윈도우를 수작업 라벨링(혹은 반자동)해 소량만 확보해도 됨(SSL 임베딩 위). 프리즈 vs. 부분 미세조정을 비교 실험.  ￼
	•	평가 분할:
	•	Subject-wise split(유저 분리)로 일반화 확인.
	•	속도/템포 도메인-시프트 검증(리샘플링 불변성 효과 확인).
	•	제로-샷 유저 테스트: 4명 학습-1명 미적용 유저에 곧장 적용해 성능 확인(회의에서 제로샷 얘기).  ￼
	•	시각화/디버깅:
	•	임베딩을 t-SNE/UMAP으로 그려 분리 양상/누가 섞이는지를 보고, 데이터/라벨/증강 문제를 역추적(회의 제안).
	•	기준선 대비 개선폭 관리:
	•	베이스라인(그냥 CNN/ViT 등) 정확도 → SSL+FT 정확도 개선폭 관리가 중요(프로젝트 점수/리스크 관리).  ￼  ￼

⸻

5) 모델 구조 제안(예시)

(A) 공유 인코더 + 융합 + SimCLR-style SSL
	•	입력: (T × 18) → 6채널 블록 3개로 분할
	•	SensorEncoder(1D-CNN/TCN, 가중치 공유) → 각 (T × 6) → (T’ × d)
	•	Fusion: [Concat or stack] → Temporal head(GRU/Transformer) → (T’’ × D)
	•	Projection head(MLP) → z
	•	Loss: InfoNCE(인접창 양성, 원거리/타인 음성), +α(정합/속도-불변 보조로스 선택)

(B) 1-D 임베딩 + wav2vec2-style SSL
	•	입력: (T × 6) 혹은 (T × 18) → Linear 임베딩 레이어로 1-D로 축약 → wav2vec2 backbone
	•	프리트레인: 마스킹/컨트라스티브로 자가학습 → 파인튜닝: 얕은 분류기 + 부분 미세조정(혹은 프리즈)  ￼  ￼

⸻

6) 경량화·배포 팁
	•	Low-rank factorization(선형층 분해), 지식 증류(큰 SSL 백본 → 작은 학생), 프루닝, 양자화(int8-fp16 혼용). 정확도 저하 위험은 있으니 단계별 A/B로.  ￼
	•	모델이 너무 크면 라즈베리에서 안 돌 수 있으니 스몰 백본부터. 문서/허브 모델을 참고해 작은 가중치부터 실험하자는 제안도 있었지.  ￼

⸻

7) 실험 체크리스트(빠르게 돌려볼 항목)
	•	윈도우링: 1회-동작 단위 vs 고정길이 슬라이딩(50-200샘플 등) 비교.
	•	증강 조합: 리샘플링-마스킹-채널드롭-잡음의 유무/강도 grid search.
	•	양성/음성 배치 구성: 동일세션 인접창 양성, 다른 유저/다른 동작 음성.
	•	프리즈율: 백본 프리즈 100% - 일부 블록만 언프리즈 - 전층 미세조정.
	•	융합 방식: Concat vs Attention 융합.
	•	평가: subject-wise, 템포 변화, 제로-샷 유저.

⸻

8) 왜 이 전략이 “지금” 맞는가
	•	라벨 부족 + 디바이스 제약이라는 조건에서, SSL로 일반화 임베딩을 만들고 소량 라벨 파인튜닝으로 성능을 끌어올리는 게 합리적. 회의에서 이 철학이 반복해서 강조되었음.  ￼  ￼
	•	이미지식 증강이 곧장 통하지 않는다는 지점도 정확히 짚었고(뒤집기 금물), 대신 시간·속도·센서 환경 불변성을 증강으로 학습시키자는 방향이 명확함.  ￼
	•	6채널 공개데이터 → 18채널 실제데이터의 모달 불일치는 공유 인코더/투영헤드/1-D 축약 세 갈래로 풀 수 있음.  ￼  ￼

⸻

요약
	•	먼저 간단한 CNN/GRU/Transformer로 베이스라인 정확도를 확보하고(비교군).  ￼
	•	그 다음 시계열에 맞춘 컨트라스티브 SSL(SimCLR-변형 또는 wav2vec2-style)로 임베딩을 프리트레인 → 소량 라벨 파인튜닝(프리즈/부분 언프리즈 비교).  ￼  ￼
	•	증강 핵심: 리샘플링(속도 불변), 창 시프트·마스킹, 잡음/스케일, 채널 드롭, 소규모 축 회전, 약한 시간-워핑. 이미지식 뒤집기 등은 지양.  ￼  ￼
	•	6↔18채널: 공유 인코더+융합, 투영헤드로 정합, 혹은 1-D 축약 후 wav2vec로 처리.  ￼  ￼
	•	배포 전: 로우-랭크/증류/프루닝/양자화로 경량화, 정확도 저하는 단계별 확인.  ￼

(근거: 2025-09-30 회의록 전반—컨트라스티브 SSL 개념, 시계열 증강 한계와 대안, wav2vec2 참조, 차원 정합·공유 인코더, 프리즈/비-프리즈 파인튜닝, 베이스라인 확보, 경량화 등.)  ￼